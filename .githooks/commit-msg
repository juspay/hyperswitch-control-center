#!/bin/sh

commit_msg_file=$1
commit_msg=$(cat "$commit_msg_file")


# Define your commit message convention (e.g., starts with "feat:", "fix:", etc.)
commit_regex="^(feature|bugfix|chore|docs|style|refactor|test|enhancement) .+"

if ! echo "$commit_msg" | grep -E "$commit_regex" ; then
    echo "Aborting commit. Your commit message does not follow the conventional format."
    echo "Example - <feature|bugfix|chore|docs|style|refactor|test|enhancement>: (<scope>) - <description>"
    exit 1
fi

# If the commit message matches the convention, the script exits successfully.
exit 0
