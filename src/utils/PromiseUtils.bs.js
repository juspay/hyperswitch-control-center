// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Js_exn from "rescript/lib/es6/js_exn.js";
import * as Core__Option from "@rescript/core/src/Core__Option.bs.js";
import * as Core__Promise from "@rescript/core/src/Core__Promise.bs.js";

function allSettledPolyfill(arr) {
  return Promise.all(
    arr.map(function (promise) {
      return Core__Promise.$$catch(
        promise.then(function (val) {
          return Promise.resolve(val);
        }),
        function (err) {
          return Promise.resolve(
            err.RE_EXN_ID === Js_exn.$$Error
              ? Core__Option.getOr(err._1.message, "Failed to Fetch!")
              : null,
          );
        },
      );
    }),
  );
}

export { allSettledPolyfill };
/* No side effect */
