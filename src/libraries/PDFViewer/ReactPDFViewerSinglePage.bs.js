// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Icon from "../../components/Icon.bs.js";
import * as React from "react";
import * as ReactPdf from "react-pdf";
import * as Caml_option from "rescript/lib/es6/caml_option.js";
import * as Core__Array from "@rescript/core/src/Core__Array.bs.js";
import * as JsxPPXReactSupportU from "rescript/lib/es6/jsxPPXReactSupportU.js";

ReactPdf.pdfjs.GlobalWorkerOptions.workerSrc =
  "//unpkg.com/pdfjs-dist@" +
  ReactPdf.pdfjs.version +
  "/build/pdf.worker.min.js";

function ReactPDFViewerSinglePage(props) {
  var __width = props.width;
  var __height = props.height;
  var loading = props.loading;
  var height = __height !== undefined ? __height : 700;
  var width = __width !== undefined ? __width : 800;
  var match = React.useState(function () {
    return 1;
  });
  var setNumPages = match[1];
  var onLoadSuccess = function (pages) {
    setNumPages(function (param) {
      return pages._pdfInfo.numPages;
    });
  };
  var noData = React.createElement(
    "div",
    {
      className:
        "bg-white h-[70vh] flex items-center justify-center m-auto gap-2",
    },
    React.createElement(Icon.make, {
      name: "error-circle",
      size: 16,
    }),
    "Please upload the PDF File.",
  );
  return React.createElement(ReactPdf.Document, {
    children: Core__Array.fromInitializer(match[0], function (i) {
      return (i + 1) | 0;
    }).map(function (ele, index) {
      return JsxPPXReactSupportU.createElementWithKey(
        "page_" + index.toString(),
        ReactPdf.Page,
        {
          pageNumber: ele,
          renderAnnotationLayer: true,
          renderTextLayer: false,
          height: height,
          width: width,
          loading: Caml_option.some(loading),
        },
      );
    }),
    file: props.url,
    className: props.className,
    loading: Caml_option.some(loading),
    onLoadSuccess: onLoadSuccess,
    noData: Caml_option.some(noData),
    error: Caml_option.some(props.error),
  });
}

var make = ReactPDFViewerSinglePage;

var $$default = ReactPDFViewerSinglePage;

export { make, $$default as default };
/*  Not a pure module */
