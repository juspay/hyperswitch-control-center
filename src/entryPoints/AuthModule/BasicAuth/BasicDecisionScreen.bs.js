// Generated by ReScript, PLEASE EDIT WITH CARE

import * as React from "react";
import * as AcceptInvite from "../../AcceptInvite.bs.js";
import * as BasicAuthUtils from "./BasicAuthUtils.bs.js";
import * as HyperSwitchApp from "../../HyperSwitchApp.bs.js";
import * as CommonAuthError from "../Common/CommonAuthError.bs.js";
import * as AuthInfoProvider from "../../../context/AuthInfoProvider.bs.js";

function BasicDecisionScreen(props) {
  var match = React.useContext(AuthInfoProvider.authStatusContext);
  var setAuthStatus = match.setAuthStatus;
  var authStatus = match.authStatus;
  var flowType;
  if (typeof authStatus !== "object" || authStatus.TAG !== "LoggedIn") {
    flowType = "ERROR";
  } else {
    var info = authStatus._0;
    flowType =
      info.TAG === "BasicAuth"
        ? BasicAuthUtils.flowTypeStrToVariantMapper(info._0.flow_type)
        : "DASHBOARD_ENTRY";
  }
  var onClickErrorPageButton = function () {
    setAuthStatus("LoggedOut");
  };
  switch (flowType) {
    case "MERCHANT_SELECT":
      return React.createElement(AcceptInvite.make, {});
    case "DASHBOARD_ENTRY":
      return React.createElement(HyperSwitchApp.make, {});
    case "ERROR":
      return React.createElement(CommonAuthError.make, {
        onClick: onClickErrorPageButton,
      });
  }
}

var make = BasicDecisionScreen;

export { make };
/* react Not a pure module */
