// Generated by ReScript, PLEASE EDIT WITH CARE

import * as React from "react";
import * as Button from "./Button.bs.js";
import * as LogicUtils from "../utils/LogicUtils.bs.js";
import * as ButtonGroup from "./ButtonGroup.bs.js";
import * as ThemeProvider from "../context/ThemeProvider.bs.js";
import * as JsxPPXReactSupportU from "rescript/lib/es6/jsxPPXReactSupportU.js";

function ButtonGroupIp(props) {
  var buttonSize = props.buttonSize;
  var __isSeparate = props.isSeparate;
  var __isDisabled = props.isDisabled;
  var __buttonClass = props.buttonClass;
  var input = props.input;
  var buttonClass = __buttonClass !== undefined ? __buttonClass : "";
  var isDisabled = __isDisabled !== undefined ? __isDisabled : false;
  var isSeparate = __isSeparate !== undefined ? __isSeparate : false;
  var match = React.useContext(ThemeProvider.themeContext);
  var textColor = match.globalUIConfig.font.textColor;
  var buttonState = isDisabled ? "Disabled" : "Normal";
  var buttons = props.options.map(function (op, i) {
    var active = LogicUtils.getStringFromJson(input.value, "") === op.value;
    if (isSeparate) {
      return JsxPPXReactSupportU.createElementWithKey(
        i.toString(),
        Button.make,
        {
          buttonState: buttonState,
          text: op.label,
          buttonType: active ? "Primary" : "SecondaryFilled",
          buttonSize: buttonSize,
          leftIcon: op.icon,
          onClick: function (param) {
            input.onChange(op.value);
          },
        },
      );
    } else {
      return JsxPPXReactSupportU.createElementWithKey(
        i.toString(),
        Button.make,
        {
          buttonState: buttonState,
          text: op.label,
          buttonType: active ? "SecondaryFilled" : "Secondary",
          buttonSize: buttonSize,
          leftIcon: op.icon,
          onClick: function (param) {
            input.onChange(op.value);
          },
          textStyle: active ? textColor.primaryNormal : "",
          textWeight: active ? "font-semibold" : "font-medium",
          customButtonStyle: active ? "shadow-inner px-0" : "px-0",
        },
      );
    }
  });
  if (isSeparate) {
    return React.createElement(
      "div",
      {
        className: "flex flex-row gap-4 items-center my-2 " + buttonClass,
      },
      buttons,
    );
  } else {
    return React.createElement(ButtonGroup.make, {
      children: buttons,
      wrapperClass: "flex flex-row mr-2 ml-1",
    });
  }
}

var make = ButtonGroupIp;

export { make };
/* react Not a pure module */
