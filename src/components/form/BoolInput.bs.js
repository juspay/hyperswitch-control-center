// Generated by ReScript, PLEASE EDIT WITH CARE

import * as React from "react";
import * as Core__JSON from "@rescript/core/src/Core__JSON.bs.js";
import * as LogicUtils from "../../utils/LogicUtils.bs.js";
import * as MatchMedia from "../../context/MatchMedia.bs.js";
import * as CheckBoxIcon from "../custom-icons/CheckBoxIcon.bs.js";
import * as AddDataAttributes from "../AddDataAttributes.bs.js";

function BoolInput$BaseComponent(props) {
  var __addAttributeId = props.addAttributeId;
  var __boolCustomClass = props.boolCustomClass;
  var __isDisabled = props.isDisabled;
  var setIsSelected = props.setIsSelected;
  var isSelected = props.isSelected;
  var isDisabled = __isDisabled !== undefined ? __isDisabled : false;
  var boolCustomClass =
    __boolCustomClass !== undefined ? __boolCustomClass : "";
  var addAttributeId = __addAttributeId !== undefined ? __addAttributeId : "";
  var toggleSelect = React.useCallback(
    function (_ev) {
      if (!isDisabled) {
        return setIsSelected(!isSelected);
      }
    },
    [isDisabled, isSelected, setIsSelected],
  );
  var isMobileView = MatchMedia.useMobileChecker();
  var boolCustomClass$1 = LogicUtils.isEmptyString(boolCustomClass)
    ? isMobileView
      ? ""
      : "mx-4"
    : boolCustomClass;
  var selectedClass =
    boolCustomClass$1 + " bg-green-950  border dark:bg-green-950";
  var borderSelectedClass = "border border-green-950";
  var defaultInputClass =
    boolCustomClass$1 +
    " bg-gradient-to-t from-jp-gray-200 to-jp-gray-250 dark:from-jp-gray-darkgray_background dark:to-jp-gray-darkgray_background";
  var backgroundClass = isSelected ? selectedClass : defaultInputClass;
  var borderClass =
    isSelected && !isDisabled
      ? borderSelectedClass
      : "border border-jp-gray-940 border-opacity-75 dark:border-jp-gray-960";
  var transformValue = isSelected ? "translateX(14px)" : "translateX(0px)";
  var cursorClass = isDisabled ? "cursor-not-allowed" : "cursor-pointer";
  var circleColor = isSelected
    ? "bg-white"
    : isDisabled
      ? "bg-jp-gray-900 bg-opacity-50 dark:bg-jp-gray-900 dark:bg-opacity-40"
      : "bg-jp-gray-900 bg-opacity-50 dark:bg-white dark:bg-opacity-100";
  var toggleWidth = "30px";
  var innerCircleHeight = "12px";
  return React.createElement(AddDataAttributes.make, {
    attributes: [
      ["data-bool-value", isSelected ? "on" : "off"],
      ["data-bool-for", addAttributeId],
    ],
    children: React.createElement(
      "div",
      {
        className:
          "flex items-center transition rounded-2.5 " +
          backgroundClass +
          " " +
          borderClass +
          " " +
          cursorClass +
          " ",
        style: {
          height: "16px",
          minWidth: toggleWidth,
          width: toggleWidth,
        },
        onClick: toggleSelect,
      },
      React.createElement("div", {
        className: "m-0.25 transition rounded-full " + circleColor + " ",
        style: {
          height: innerCircleHeight,
          width: innerCircleHeight,
          transform: transformValue,
        },
      }),
    ),
  });
}

var BaseComponent = {
  make: BoolInput$BaseComponent,
};

function BoolInput(props) {
  var __addAttributeId = props.addAttributeId;
  var __boolCustomClass = props.boolCustomClass;
  var __isCheckBox = props.isCheckBox;
  var __isDisabled = props.isDisabled;
  var baseInput = props.input;
  var isDisabled = __isDisabled !== undefined ? __isDisabled : false;
  var isCheckBox = __isCheckBox !== undefined ? __isCheckBox : false;
  var boolCustomClass =
    __boolCustomClass !== undefined ? __boolCustomClass : "";
  var addAttributeId = __addAttributeId !== undefined ? __addAttributeId : "";
  var boolValue = baseInput.value;
  var str = Core__JSON.Classify.classify(boolValue);
  var isSelected;
  if (typeof str !== "object") {
    isSelected = false;
  } else {
    switch (str.TAG) {
      case "Bool":
        isSelected = str._0 ? true : false;
        break;
      case "String":
        isSelected = str._0 === "true";
        break;
      default:
        isSelected = false;
    }
  }
  var setIsSelected = baseInput.onChange;
  if (isCheckBox) {
    return React.createElement(CheckBoxIcon.make, {
      isSelected: isSelected,
      isDisabled: isDisabled,
      setIsSelected: setIsSelected,
    });
  } else {
    return React.createElement(BoolInput$BaseComponent, {
      isSelected: isSelected,
      setIsSelected: setIsSelected,
      isDisabled: isDisabled,
      boolCustomClass: boolCustomClass,
      addAttributeId: addAttributeId,
    });
  }
}

var make = BoolInput;

export { BaseComponent, make };
/* react Not a pure module */
