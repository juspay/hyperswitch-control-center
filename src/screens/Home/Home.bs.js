// Generated by ReScript, PLEASE EDIT WITH CARE

import * as React from "react";
import * as Recoil from "recoil";
import * as RenderIf from "../../utils/RenderIf.bs.js";
import * as HomeUtils from "./HomeUtils.bs.js";
import * as PageUtils from "../Helpers/PageUtils.bs.js";
import * as GlobalVars from "../../utils/GlobalVars.bs.js";
import * as HyperswitchAtom from "../../Recoils/HyperswitchAtom.bs.js";
import * as AcceptInviteHome from "../../entryPoints/AcceptInviteHome.bs.js";
import * as AuthInfoProvider from "../../context/AuthInfoProvider.bs.js";

function Home(props) {
  var greeting = HomeUtils.getGreeting();
  var featureFlagDetails = Recoil.useRecoilValue(
    HyperswitchAtom.featureFlagAtom,
  );
  var match = React.useContext(AuthInfoProvider.authStatusContext);
  var authStatus = match.authStatus;
  var recovery_codes_left;
  if (typeof authStatus !== "object" || authStatus.TAG !== "LoggedIn") {
    recovery_codes_left = GlobalVars.maximumRecoveryCodes;
  } else {
    var totpInfo = authStatus._0;
    recovery_codes_left =
      totpInfo.TAG === "BasicAuth"
        ? GlobalVars.maximumRecoveryCodes
        : totpInfo._0.recovery_codes_left;
  }
  return React.createElement(
    "div",
    {
      className: "w-full gap-8 flex flex-col",
    },
    React.createElement(
      "div",
      {
        className: "flex flex-col gap-4",
      },
      React.createElement(RenderIf.make, {
        condition: featureFlagDetails.totp && recovery_codes_left < 3,
        children: React.createElement(HomeUtils.LowRecoveryCodeBanner.make, {
          recovery_codes_left: recovery_codes_left,
        }),
      }),
      React.createElement(AcceptInviteHome.make, {}),
    ),
    React.createElement(PageUtils.PageHeading.make, {
      title: greeting + ", it's great to see you!",
      subTitle:
        "Welcome to the home of your Payments Control Centre. It aims at providing your team with a 360-degree view of payments.",
    }),
    React.createElement(HomeUtils.ControlCenter.make, {}),
    React.createElement(HomeUtils.DevResources.make, {}),
  );
}

var make = Home;

export { make };
/* react Not a pure module */
