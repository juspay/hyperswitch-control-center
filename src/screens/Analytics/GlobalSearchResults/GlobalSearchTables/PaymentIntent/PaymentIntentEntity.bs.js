// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Table from "../../../../../components/Table.bs.js";
import * as React from "react";
import * as EntityType from "../../../../../entities/EntityType.bs.js";
import * as GlobalVars from "../../../../../utils/GlobalVars.bs.js";
import * as LogicUtils from "../../../../../utils/LogicUtils.bs.js";
import * as OrderEntity from "../../../../Order/OrderEntity.bs.js";
import * as HSwitchOrderUtils from "../../../../Order/HSwitchOrderUtils.bs.js";

var visibleColumns = [
  "PaymentId",
  "MerchantId",
  "Status",
  "Amount",
  "Currency",
  "ActiveAttemptId",
  "BusinessCountry",
  "BusinessLabel",
  "AttemptCount",
];

function colMapper(col) {
  switch (col) {
    case "PaymentId":
      return "payment_id";
    case "MerchantId":
      return "merchant_id";
    case "Status":
      return "status";
    case "Amount":
      return "amount";
    case "Currency":
      return "currency";
    case "AmountCaptured":
      return "amount_captured";
    case "CustomerId":
      return "customer_id";
    case "Description":
      return "description";
    case "ReturnUrl":
      return "return_url";
    case "ConnectorId":
      return "connector_id";
    case "StatementDescriptorName":
      return "statement_descriptor_name";
    case "StatementDescriptorSuffix":
      return "statement_descriptor_suffix";
    case "CreatedAt":
      return "created_at";
    case "ModifiedAt":
      return "modified_at";
    case "LastSynced":
      return "last_synced";
    case "SetupFutureUsage":
      return "setup_future_usage";
    case "OffSession":
      return "off_session";
    case "ClientSecret":
      return "client_secret";
    case "ActiveAttemptId":
      return "active_attempt_id";
    case "BusinessCountry":
      return "business_country";
    case "BusinessLabel":
      return "business_label";
    case "AttemptCount":
      return "attempt_count";
    case "SignFlag":
      return "sign_flag";
    case "Timestamp":
      return "@timestamp";
  }
}

function tableItemToObjMapper(dict) {
  return {
    payment_id: LogicUtils.getString(dict, "payment_id", "NA"),
    merchant_id: LogicUtils.getString(dict, "merchant_id", "NA"),
    status: LogicUtils.getString(dict, "status", "NA"),
    amount: LogicUtils.getFloat(dict, "amount", 0.0),
    currency: LogicUtils.getString(dict, "currency", "NA"),
    amount_captured: LogicUtils.getFloat(dict, "amount_captured", 0.0),
    customer_id: LogicUtils.getString(dict, "customer_id", "NA"),
    description: LogicUtils.getString(dict, "description", "NA"),
    return_url: LogicUtils.getString(dict, "return_url", "NA"),
    connector_id: LogicUtils.getString(dict, "connector_id", "NA"),
    statement_descriptor_name: LogicUtils.getString(
      dict,
      "statement_descriptor_name",
      "NA",
    ),
    statement_descriptor_suffix: LogicUtils.getString(
      dict,
      "statement_descriptor_suffix",
      "NA",
    ),
    created_at: LogicUtils.getInt(dict, "created_at", 0),
    modified_at: LogicUtils.getInt(dict, "modified_at", 0),
    last_synced: LogicUtils.getInt(dict, "last_synced", 0),
    setup_future_usage: LogicUtils.getString(dict, "setup_future_usage", "NA"),
    off_session: LogicUtils.getString(dict, "off_session", "NA"),
    client_secret: LogicUtils.getString(dict, "client_secret", "NA"),
    active_attempt_id: LogicUtils.getString(dict, "active_attempt_id", "NA"),
    business_country: LogicUtils.getString(dict, "business_country", "NA"),
    business_label: LogicUtils.getString(dict, "business_label", "NA"),
    attempt_count: LogicUtils.getInt(dict, "attempt_count", 0),
    sign_flag: LogicUtils.getInt(dict, "sign_flag", 0),
    timestamp: LogicUtils.getString(dict, "@timestamp", "NA"),
  };
}

function getObjects(json) {
  return LogicUtils.getArrayFromJson(json, []).map(function (item) {
    return tableItemToObjMapper(LogicUtils.getDictFromJsonObject(item));
  });
}

function getHeading(colType) {
  var key = colMapper(colType);
  switch (colType) {
    case "PaymentId":
      return Table.makeHeaderInfo(
        key,
        "Payment Id",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "MerchantId":
      return Table.makeHeaderInfo(
        key,
        "Merchant Id",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "Status":
      return Table.makeHeaderInfo(
        key,
        "Status",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "Amount":
      return Table.makeHeaderInfo(
        key,
        "Amount",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "Currency":
      return Table.makeHeaderInfo(
        key,
        "Currency",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "AmountCaptured":
      return Table.makeHeaderInfo(
        key,
        "Amount Captured",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "CustomerId":
      return Table.makeHeaderInfo(
        key,
        "Customer Id",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "Description":
      return Table.makeHeaderInfo(
        key,
        "Description",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "ReturnUrl":
      return Table.makeHeaderInfo(
        key,
        "Return Url",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "ConnectorId":
      return Table.makeHeaderInfo(
        key,
        "Connector Id",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "StatementDescriptorName":
      return Table.makeHeaderInfo(
        key,
        "Statement Descriptor Name",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "StatementDescriptorSuffix":
      return Table.makeHeaderInfo(
        key,
        "Statement Descriptor Suffix",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "CreatedAt":
      return Table.makeHeaderInfo(
        key,
        "Created At",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "ModifiedAt":
      return Table.makeHeaderInfo(
        key,
        "Modified At",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "LastSynced":
      return Table.makeHeaderInfo(
        key,
        "Last Synced",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "SetupFutureUsage":
      return Table.makeHeaderInfo(
        key,
        "Setup Future Usage",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "OffSession":
      return Table.makeHeaderInfo(
        key,
        "Off Session",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "ClientSecret":
      return Table.makeHeaderInfo(
        key,
        "Client Secret",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "ActiveAttemptId":
      return Table.makeHeaderInfo(
        key,
        "Active Attempt Id",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "BusinessCountry":
      return Table.makeHeaderInfo(
        key,
        "Business Country",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "BusinessLabel":
      return Table.makeHeaderInfo(
        key,
        "Business Label",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "AttemptCount":
      return Table.makeHeaderInfo(
        key,
        "Attempt Count",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "SignFlag":
      return Table.makeHeaderInfo(
        key,
        "Sign Flag",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "Timestamp":
      return Table.makeHeaderInfo(
        key,
        "Time Stamp",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
  }
}

function getCell(paymentObj, colType) {
  var orderStatus = HSwitchOrderUtils.statusVariantMapper(paymentObj.status);
  switch (colType) {
    case "PaymentId":
      return {
        TAG: "Text",
        _0: paymentObj.payment_id,
      };
    case "MerchantId":
      return {
        TAG: "Text",
        _0: paymentObj.merchant_id,
      };
    case "Status":
      var tmp;
      switch (orderStatus) {
        case "Failed":
        case "Cancelled":
          tmp = "LabelRed";
          break;
        case "Succeeded":
        case "PartiallyCaptured":
          tmp = "LabelGreen";
          break;
        default:
          tmp = "LabelLightBlue";
      }
      return {
        TAG: "Label",
        _0: {
          title: paymentObj.status.toUpperCase(),
          color: tmp,
        },
      };
    case "Amount":
      return {
        TAG: "CustomCell",
        _0: React.createElement(OrderEntity.CurrencyCell.make, {
          amount: (paymentObj.amount / 100.0).toString(),
          currency: paymentObj.currency,
        }),
        _1: "",
      };
    case "Currency":
      return {
        TAG: "Text",
        _0: paymentObj.currency,
      };
    case "AmountCaptured":
      return {
        TAG: "CustomCell",
        _0: React.createElement(OrderEntity.CurrencyCell.make, {
          amount: (paymentObj.amount_captured / 100.0).toString(),
          currency: paymentObj.currency,
        }),
        _1: "",
      };
    case "CustomerId":
      return {
        TAG: "Text",
        _0: paymentObj.customer_id,
      };
    case "Description":
      return {
        TAG: "Text",
        _0: paymentObj.description,
      };
    case "ReturnUrl":
      return {
        TAG: "Text",
        _0: paymentObj.return_url,
      };
    case "ConnectorId":
      return {
        TAG: "Text",
        _0: paymentObj.connector_id,
      };
    case "StatementDescriptorName":
      return {
        TAG: "Text",
        _0: paymentObj.statement_descriptor_name,
      };
    case "StatementDescriptorSuffix":
      return {
        TAG: "Text",
        _0: paymentObj.statement_descriptor_suffix,
      };
    case "CreatedAt":
      return {
        TAG: "Text",
        _0: paymentObj.created_at.toString(),
      };
    case "ModifiedAt":
      return {
        TAG: "Text",
        _0: paymentObj.modified_at.toString(),
      };
    case "LastSynced":
      return {
        TAG: "Text",
        _0: paymentObj.last_synced.toString(),
      };
    case "SetupFutureUsage":
      return {
        TAG: "Text",
        _0: paymentObj.setup_future_usage,
      };
    case "OffSession":
      return {
        TAG: "Text",
        _0: paymentObj.off_session,
      };
    case "ClientSecret":
      return {
        TAG: "Text",
        _0: paymentObj.client_secret,
      };
    case "ActiveAttemptId":
      return {
        TAG: "Text",
        _0: paymentObj.active_attempt_id,
      };
    case "BusinessCountry":
      return {
        TAG: "Text",
        _0: paymentObj.business_country,
      };
    case "BusinessLabel":
      return {
        TAG: "Text",
        _0: paymentObj.business_label,
      };
    case "AttemptCount":
      return {
        TAG: "Text",
        _0: paymentObj.attempt_count.toString(),
      };
    case "SignFlag":
      return {
        TAG: "Text",
        _0: paymentObj.sign_flag.toString(),
      };
    case "Timestamp":
      return {
        TAG: "Text",
        _0: paymentObj.timestamp,
      };
  }
}

var tableEntity = EntityType.makeEntity(
  "",
  getObjects,
  visibleColumns,
  visibleColumns,
  getHeading,
  getCell,
  "queryData",
  undefined,
  undefined,
  undefined,
  undefined,
  function (order) {
    return GlobalVars.appendDashboardPath("/payments/" + order.payment_id);
  },
  undefined,
  undefined,
  undefined,
  undefined,
  undefined,
  undefined,
  undefined,
  undefined,
  undefined,
  undefined,
  undefined,
  undefined,
  [],
  undefined,
  undefined,
  undefined,
  undefined,
  undefined,
  undefined,
);

var domain = "payment_intents";

export {
  domain,
  visibleColumns,
  colMapper,
  tableItemToObjMapper,
  getObjects,
  getHeading,
  getCell,
  tableEntity,
};
/* tableEntity Not a pure module */
