// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Table from "../../../../../components/Table.bs.js";
import * as React from "react";
import * as EntityType from "../../../../../entities/EntityType.bs.js";
import * as GlobalVars from "../../../../../utils/GlobalVars.bs.js";
import * as LogicUtils from "../../../../../utils/LogicUtils.bs.js";
import * as OrderEntity from "../../../../Order/OrderEntity.bs.js";
import * as HSwitchOrderUtils from "../../../../Order/HSwitchOrderUtils.bs.js";

var visibleColumns = [
  "RefundId",
  "PaymentId",
  "Connector",
  "TotalAmount",
  "Currency",
  "Refundstatus",
];

function colMapper(col) {
  switch (col) {
    case "InternalReferenceId":
      return "internal_reference_id";
    case "RefundId":
      return "refund_id";
    case "PaymentId":
      return "payment_id";
    case "MerchantId":
      return "merchant_id";
    case "ConnectorTransactionId":
      return "connector_transaction_id";
    case "Connector":
      return "connector";
    case "ConnectorRefundId":
      return "connector_refund_id";
    case "ExternalReferenceId":
      return "external_reference_id";
    case "RefundType":
      return "refund_type";
    case "TotalAmount":
      return "total_amount";
    case "Currency":
      return "currency";
    case "RefundAmount":
      return "refund_amount";
    case "Refundstatus":
      return "refund_status";
    case "SentToGateway":
      return "sent_to_gateway";
    case "RefundErrorMessage":
      return "refund_error_message";
    case "RefundArn":
      return "refund_arn";
    case "CreatedAt":
      return "created_at";
    case "ModifiedAt":
      return "modified_at";
    case "Description":
      return "description";
    case "AttemptId":
      return "attempt_id";
    case "RefundReason":
      return "refund_reason";
    case "RefundErrorCode":
      return "refund_error_code";
    case "SignFlag":
      return "sign_flag";
    case "Timestamp":
      return "timestamp";
  }
}

function tableItemToObjMapper(dict) {
  return {
    internal_reference_id: LogicUtils.getString(
      dict,
      "internal_reference_id",
      "NA",
    ),
    refund_id: LogicUtils.getString(dict, "refund_id", "NA"),
    payment_id: LogicUtils.getString(dict, "payment_id", "NA"),
    merchant_id: LogicUtils.getString(dict, "merchant_id", "NA"),
    connector_transaction_id: LogicUtils.getString(
      dict,
      "connector_transaction_id",
      "NA",
    ),
    connector: LogicUtils.getString(dict, "connector", "NA"),
    connector_refund_id: LogicUtils.getString(
      dict,
      "connector_refund_id",
      "NA",
    ),
    external_reference_id: LogicUtils.getString(
      dict,
      "external_reference_id",
      "NA",
    ),
    refund_type: LogicUtils.getString(dict, "refund_type", "NA"),
    total_amount: LogicUtils.getFloat(dict, "total_amount", 0.0),
    currency: LogicUtils.getString(dict, "currency", "NA"),
    refund_amount: LogicUtils.getFloat(dict, "refund_amount", 0.0),
    refund_status: LogicUtils.getString(dict, "refund_status", "NA"),
    sent_to_gateway: LogicUtils.getBool(dict, "sent_to_gateway", false),
    refund_error_message: LogicUtils.getString(
      dict,
      "refund_error_message",
      "NA",
    ),
    refund_arn: LogicUtils.getString(dict, "refund_arn", "NA"),
    created_at: LogicUtils.getInt(dict, "created_at", 0),
    modified_at: LogicUtils.getInt(dict, "modified_at", 0),
    description: LogicUtils.getString(dict, "description", "NA"),
    attempt_id: LogicUtils.getString(dict, "attempt_id", "NA"),
    refund_reason: LogicUtils.getString(dict, "refund_reason", "NA"),
    refund_error_code: LogicUtils.getString(dict, "refund_error_code", "NA"),
    sign_flag: LogicUtils.getInt(dict, "sign_flag", 0),
    timestamp: LogicUtils.getString(dict, "timestamp", "NA"),
  };
}

function getObjects(json) {
  return LogicUtils.getArrayFromJson(json, []).map(function (item) {
    return tableItemToObjMapper(LogicUtils.getDictFromJsonObject(item));
  });
}

function getHeading(colType) {
  var key = colMapper(colType);
  switch (colType) {
    case "InternalReferenceId":
      return Table.makeHeaderInfo(
        key,
        "Internal Reference Id ",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "RefundId":
      return Table.makeHeaderInfo(
        key,
        "Refund Id",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "PaymentId":
      return Table.makeHeaderInfo(
        key,
        "Payment Id",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "MerchantId":
      return Table.makeHeaderInfo(
        key,
        "Merchant Id",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "ConnectorTransactionId":
      return Table.makeHeaderInfo(
        key,
        "Connector Transaction Id",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "Connector":
      return Table.makeHeaderInfo(
        key,
        "Connector",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "ConnectorRefundId":
      return Table.makeHeaderInfo(
        key,
        "Connector Refund Id",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "ExternalReferenceId":
      return Table.makeHeaderInfo(
        key,
        "External Reference Id",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "RefundType":
      return Table.makeHeaderInfo(
        key,
        "Refund Type",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "TotalAmount":
      return Table.makeHeaderInfo(
        key,
        "Total Amount",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "Currency":
      return Table.makeHeaderInfo(
        key,
        "Currency",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "RefundAmount":
      return Table.makeHeaderInfo(
        key,
        "Refund Amount",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "Refundstatus":
      return Table.makeHeaderInfo(
        key,
        "Refund Status",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "SentToGateway":
      return Table.makeHeaderInfo(
        key,
        "Sent To Gateway",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "RefundErrorMessage":
      return Table.makeHeaderInfo(
        key,
        "Refund Error Message",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "RefundArn":
      return Table.makeHeaderInfo(
        key,
        "Refund Arn",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "CreatedAt":
      return Table.makeHeaderInfo(
        key,
        "Created At",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "ModifiedAt":
      return Table.makeHeaderInfo(
        key,
        "Modified At",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "Description":
      return Table.makeHeaderInfo(
        key,
        "Description",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "AttemptId":
      return Table.makeHeaderInfo(
        key,
        "Attempt Id",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "RefundReason":
      return Table.makeHeaderInfo(
        key,
        "Refund Reason",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "RefundErrorCode":
      return Table.makeHeaderInfo(
        key,
        "Refund Error Code",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "SignFlag":
      return Table.makeHeaderInfo(
        key,
        "Sign Flag",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
    case "Timestamp":
      return Table.makeHeaderInfo(
        key,
        "Timestamp",
        "TextType",
        false,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
  }
}

function getCell(refundsObj, colType) {
  switch (colType) {
    case "InternalReferenceId":
      return {
        TAG: "Text",
        _0: refundsObj.internal_reference_id,
      };
    case "RefundId":
      return {
        TAG: "Text",
        _0: refundsObj.refund_id,
      };
    case "PaymentId":
      return {
        TAG: "Text",
        _0: refundsObj.payment_id,
      };
    case "MerchantId":
      return {
        TAG: "Text",
        _0: refundsObj.merchant_id,
      };
    case "ConnectorTransactionId":
      return {
        TAG: "Text",
        _0: refundsObj.connector_transaction_id,
      };
    case "Connector":
      return {
        TAG: "Text",
        _0: refundsObj.connector,
      };
    case "ConnectorRefundId":
      return {
        TAG: "Text",
        _0: refundsObj.connector_refund_id,
      };
    case "ExternalReferenceId":
      return {
        TAG: "Text",
        _0: refundsObj.external_reference_id,
      };
    case "RefundType":
      return {
        TAG: "Text",
        _0: refundsObj.refund_type,
      };
    case "TotalAmount":
      return {
        TAG: "CustomCell",
        _0: React.createElement(OrderEntity.CurrencyCell.make, {
          amount: (refundsObj.total_amount / 100.0).toString(),
          currency: refundsObj.currency,
        }),
        _1: "",
      };
    case "Currency":
      return {
        TAG: "Text",
        _0: refundsObj.currency,
      };
    case "RefundAmount":
      return {
        TAG: "CustomCell",
        _0: React.createElement(OrderEntity.CurrencyCell.make, {
          amount: (refundsObj.refund_amount / 100.0).toString(),
          currency: refundsObj.currency,
        }),
        _1: "",
      };
    case "Refundstatus":
      var refundStatus = HSwitchOrderUtils.refundStatusVariantMapper(
        refundsObj.refund_status,
      );
      var tmp;
      switch (refundStatus) {
        case "Success":
          tmp = "LabelGreen";
          break;
        case "Pending":
          tmp = "LabelYellow";
          break;
        case "Failure":
          tmp = "LabelRed";
          break;
        case "None":
          tmp = "LabelLightBlue";
          break;
      }
      return {
        TAG: "Label",
        _0: {
          title: refundsObj.refund_status.toUpperCase(),
          color: tmp,
        },
      };
    case "SentToGateway":
      return {
        TAG: "Text",
        _0: LogicUtils.getStringFromBool(refundsObj.sent_to_gateway),
      };
    case "RefundErrorMessage":
      return {
        TAG: "Text",
        _0: refundsObj.refund_error_message,
      };
    case "RefundArn":
      return {
        TAG: "Text",
        _0: refundsObj.refund_arn,
      };
    case "CreatedAt":
      return {
        TAG: "Text",
        _0: refundsObj.created_at.toString(),
      };
    case "ModifiedAt":
      return {
        TAG: "Text",
        _0: refundsObj.modified_at.toString(),
      };
    case "Description":
      return {
        TAG: "Text",
        _0: refundsObj.description,
      };
    case "AttemptId":
      return {
        TAG: "Text",
        _0: refundsObj.attempt_id,
      };
    case "RefundReason":
      return {
        TAG: "Text",
        _0: refundsObj.refund_reason,
      };
    case "RefundErrorCode":
      return {
        TAG: "Text",
        _0: refundsObj.refund_error_code,
      };
    case "SignFlag":
      return {
        TAG: "Text",
        _0: refundsObj.sign_flag.toString(),
      };
    case "Timestamp":
      return {
        TAG: "Text",
        _0: refundsObj.timestamp,
      };
  }
}

var tableEntity = EntityType.makeEntity(
  "",
  getObjects,
  visibleColumns,
  visibleColumns,
  getHeading,
  getCell,
  "queryData",
  undefined,
  undefined,
  undefined,
  undefined,
  function (refund) {
    return GlobalVars.appendDashboardPath("/refunds/" + refund.refund_id);
  },
  undefined,
  undefined,
  undefined,
  undefined,
  undefined,
  undefined,
  undefined,
  undefined,
  undefined,
  undefined,
  undefined,
  undefined,
  [],
  undefined,
  undefined,
  undefined,
  undefined,
  undefined,
  undefined,
);

var domain = "refunds";

export {
  domain,
  visibleColumns,
  colMapper,
  tableItemToObjMapper,
  getObjects,
  getHeading,
  getCell,
  tableEntity,
};
/* tableEntity Not a pure module */
