// Generated by ReScript, PLEASE EDIT WITH CARE

import * as React from "react";
import * as Recoil from "recoil";
import * as RenderIf from "../../utils/RenderIf.bs.js";
import * as ACLButton from "../../components/ACLButton.bs.js";
import * as MixpanelHook from "../MixpanelHook.bs.js";
import * as HyperswitchAtom from "../../Recoils/HyperswitchAtom.bs.js";
import * as PermissionUtils from "../UserManagement/PermissionUtils.bs.js";
import * as DownloadReportModal from "./DownloadReportModal.bs.js";

function GenerateReport(props) {
  var mixpanelEvent = MixpanelHook.useSendEvent();
  var match = React.useState(function () {
    return false;
  });
  var setReportModal = match[1];
  var reportModal = match[0];
  var userPermissionJson = Recoil.useRecoilValue(
    HyperswitchAtom.userPermissionAtom,
  );
  var accessForGenerateReports = PermissionUtils.hasAnyPermission(
    userPermissionJson.operationsView,
    userPermissionJson.analyticsView,
  );
  return React.createElement(
    React.Fragment,
    {},
    React.createElement(ACLButton.make, {
      text: "Generate Reports",
      buttonType: "Primary",
      buttonSize: "XSmall",
      onClick: function (param) {
        setReportModal(function (param) {
          return true;
        });
        mixpanelEvent(
          "generate_reports",
          undefined,
          undefined,
          undefined,
          undefined,
          undefined,
        );
      },
      access: accessForGenerateReports,
      toolTipPosition: "Left",
    }),
    React.createElement(RenderIf.make, {
      condition: reportModal,
      children: React.createElement(DownloadReportModal.make, {
        reportModal: reportModal,
        setReportModal: setReportModal,
        entityName: props.entityName,
      }),
    }),
  );
}

var make = GenerateReport;

export { make };
/* react Not a pure module */
